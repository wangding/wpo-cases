# æ€§èƒ½é¢„ç®—åŸºç¡€

æ€§èƒ½æ˜¯ç”¨æˆ·ä½“éªŒçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå®ƒä¼šå½±å“ä¸šåŠ¡ç»©æ•ˆã€‚äººä»¬å¾ˆå®¹æ˜“è®¤ä¸ºï¼Œå¦‚æœä½ æ˜¯ä¸€ä¸ªä¼˜ç§€çš„å¼€å‘äººå‘˜ï¼Œä½ æœ€ç»ˆä¼šå¾—åˆ°ä¸€ä¸ªé«˜æ€§èƒ½çš„ç½‘ç«™ï¼Œä½†äº‹å®æ˜¯ï¼Œè‰¯å¥½çš„æ€§èƒ½å¾ˆå°‘æ˜¯å¼€å‘çš„å‰¯äº§å“ã€‚ä¸å¤§å¤šæ•°å…¶ä»–äº‹æƒ…ä¸€æ ·ï¼Œè¦è¾¾åˆ°ç›®æ ‡ï¼Œä½ å¿…é¡»æ¸…æ¥šåœ°å®šä¹‰å®ƒï¼Œå¹¶ä¸”ä»é€šè¿‡åˆ¶å®šé¢„ç®—å¼€å§‹ç€æ‰‹ã€‚

## å®šä¹‰

æ€§èƒ½é¢„ç®—æ˜¯å¯¹ç½‘ç«™æ€§èƒ½æŒ‡æ ‡äº§ç”Ÿå½±å“çš„ä¸€ç»„é™åˆ¶æ¡ä»¶ã€‚è¿™å¯èƒ½æ˜¯é¡µé¢çš„æ€»å¤§å°ã€åœ¨ç§»åŠ¨ç½‘ç»œä¸ŠåŠ è½½æ‰€éœ€çš„æ—¶é—´ï¼Œç”šè‡³æ˜¯å‘é€çš„ HTTP è¯·æ±‚æ•°ã€‚å®šä¹‰é¢„ç®—æœ‰åŠ©äºå¯åŠ¨ Web æ€§èƒ½æµ‹è¯•å’Œè°ƒä¼˜ã€‚å®ƒå¯ä»¥ä¸ºç½‘ç«™è®¾è®¡ã€æŠ€æœ¯é€‰å‹ä»¥åŠåŠŸèƒ½ç‰¹æ€§çš„æ·»åŠ ï¼Œç­‰æä¾›å†³ç­–å‚è€ƒã€‚

æœ‰äº†é¢„ç®—ï¼Œè®¾è®¡å¸ˆå°±å¯ä»¥è€ƒè™‘é«˜åˆ†è¾¨ç‡å›¾åƒä»¥åŠä»–ä»¬é€‰æ‹©çš„ç½‘é¡µå­—ä½“æ•°é‡å¯¹æ€§èƒ½çš„å½±å“ã€‚å®ƒè¿˜å¯ä»¥å¸®åŠ©å¼€å‘äººå‘˜æ¯”è¾ƒè§£å†³é—®é¢˜çš„ä¸åŒæ–¹æ³•ï¼Œå¹¶ä¸”æ ¹æ®æ¡†æ¶å’Œåº“çš„å¤§å°ä»¥åŠè§£ææˆæœ¬å¯¹å…¶è¿›è¡Œè¯„ä¼°ã€‚

## é€‰æ‹©æŒ‡æ ‡

### åŸºäºæ•°é‡çš„æŒ‡æ ‡

è¿™äº›æŒ‡æ ‡åœ¨å¼€å‘çš„æ—©æœŸéå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»¬çªæ˜¾äº†åŒ…å«åºå¤§å›¾ç‰‡å’Œè„šæœ¬å¯¹æ€§èƒ½çš„å½±å“ã€‚å®ƒä»¬ä¹Ÿå¾ˆå®¹æ˜“ä¸è®¾è®¡äººå‘˜å’Œå¼€å‘äººå‘˜è¿›è¡Œæ²Ÿé€šã€‚

æˆ‘ä»¬å·²ç»æåˆ°äº†ä¸€äº›å¯ä»¥åœ¨æ€§èƒ½é¢„ç®—ä¸­åŒ…å«çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼šé¡µé¢ä½“ç§¯ä»¥åŠ HTTP è¯·æ±‚æ•°ï¼Œä½†æ‚¨å¯ä»¥å°†è¿™äº›æ‹†åˆ†ä¸ºæ›´ç²¾ç»†çš„é™åˆ¶ï¼Œä¾‹å¦‚ï¼š

- å›¾ç‰‡çš„æœ€å¤§å°ºå¯¸
- ç½‘é¡µå­—ä½“æ•°çš„æœ€å¤§æ•°é‡
- è„šæœ¬ï¼ˆåŒ…æ‹¬æ¡†æ¶ï¼‰çš„æœ€å¤§ä½“ç§¯
- å¤–éƒ¨èµ„æºï¼ˆå¦‚ç¬¬ä¸‰æ–¹è„šæœ¬ï¼‰çš„æ€»æ•°

ä½†æ˜¯ï¼Œè¿™äº›æ•°å­—å¹¶ä¸èƒ½å‘Šè¯‰æ‚¨æœ‰å…³ç”¨æˆ·ä½“éªŒçš„æ›´å¤šä¿¡æ¯ã€‚å…·æœ‰ç›¸åŒè¯·æ±‚æ•°æˆ–ç›¸åŒå¤§å°çš„ä¸¤ä¸ªé¡µé¢ï¼Œå¯ä»¥æ ¹æ®è¯·æ±‚èµ„æºçš„é¡ºåºï¼Œä»¥ä¸åŒçš„æ–¹å¼å‘ˆç°ã€‚å¦‚æœæŸä¸ªé¡µé¢ä¸Šçš„å…³é”®èµ„æºï¼ˆå¦‚ä¸»å›¾ç‰‡æˆ–æ ·å¼è¡¨ï¼‰åœ¨æµç¨‹çš„åæœŸåŠ è½½ï¼Œåˆ™ç”¨æˆ·å°†ç­‰å¾…æ›´é•¿çš„æ—¶é—´æ‰èƒ½çœ‹åˆ°æœ‰ç”¨çš„ä¸œè¥¿ï¼Œå¹¶è®¤ä¸ºé¡µé¢é€Ÿåº¦è¾ƒæ…¢ã€‚è€Œåœ¨å¦ä¸€ä¸ªé¡µé¢ä¸Šï¼Œæœ€é‡è¦çš„éƒ¨åˆ†åŠ è½½å¾—å¾ˆå¿«ï¼Œä»–ä»¬ç”šè‡³å¯èƒ½ä¸ä¼šæ³¨æ„åˆ°é¡µé¢çš„å…¶ä½™éƒ¨åˆ†æ²¡æœ‰åŠ è½½ã€‚

![performance-budgets-101-1](./img/performance-budgets-101-1.png)

ä¸Šå›¾æ˜¾ç¤ºç½‘é¡µåŸºäºå…³é”®è·¯å¾„çš„æ¸è¿›æ¸²æŸ“

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦è·Ÿè¸ªå¦ä¸€ç§ç±»å‹çš„æŒ‡æ ‡çš„é‡è¦åŸå› ã€‚

### é‡Œç¨‹ç¢‘æ—¶é—´

é‡Œç¨‹ç¢‘æ—¶é—´æ ‡è®°åœ¨é¡µé¢åŠ è½½æœŸé—´å‘ç”Ÿçš„äº‹ä»¶ï¼Œå¦‚ DOMContentLoaded æˆ– load äº‹ä»¶ã€‚æœ€æœ‰ç”¨çš„è®¡æ—¶æ˜¯ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„æ€§èƒ½æŒ‡æ ‡ï¼Œè¿™äº›æŒ‡æ ‡å¯ä»¥å‘Šè¯‰æ‚¨æœ‰å…³åŠ è½½é¡µé¢çš„ä½“éªŒã€‚è¿™äº›æŒ‡æ ‡å¯é€šè¿‡æµè§ˆå™¨ API è·å¾—ï¼Œå¹¶ä½œä¸º Lighthouse æŠ¥å‘Šçš„ä¸€éƒ¨åˆ†æä¾›ã€‚

FCP æµ‹é‡æµè§ˆå™¨ä½•æ—¶æ˜¾ç¤º DOM ä¸­çš„ç¬¬ä¸€å—å†…å®¹ï¼Œå¦‚æ–‡æœ¬æˆ–å›¾åƒã€‚

Time to Interactive (TTI) measures how long it takes for a page to become fully interactive and reliably respond to user input. It's a very important metric to track if you expect any kind of user interaction on the page like clicking links, buttons, typing or using form elements.
TTI æµ‹é‡é¡µé¢å®Œå…¨äº¤äº’å¹¶å¯é åœ°å“åº”ç”¨æˆ·è¾“å…¥æ‰€éœ€çš„æ—¶é—´ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æŒ‡æ ‡ï¼Œå¯ä»¥è·Ÿè¸ªæ‚¨æ˜¯å¦æœŸæœ›åœ¨é¡µé¢ä¸Šè¿›è¡Œä»»ä½•ç±»å‹çš„ç”¨æˆ·äº¤äº’ï¼Œä¾‹å¦‚å•å‡»é“¾æ¥ï¼ŒæŒ‰é’®ï¼Œé”®å…¥æˆ–ä½¿ç”¨è¡¨å•å…ƒç´ ã€‚

### åŸºäºè§„åˆ™çš„æŒ‡æ ‡

Lighthouse and WebPageTest calculate performance scores based on general best practice rules, that you can use as guidelines. As a bonus, Lighthouse also offers you hints for simple optimizations.

You'll get the best results if you keep track of a combination of quantity-based and user-centric performance metrics. Focus on asset sizes in the early phases of a project and start tracking FCP and TTI as soon as possible.

Lighthouse å’Œ WebPageTest æ ¹æ®ä¸€èˆ¬æœ€ä½³å®è·µè§„åˆ™è®¡ç®—æ€§èƒ½åˆ†æ•°ï¼Œæ‚¨å¯ä»¥å°†å…¶ç”¨ä½œæŒ‡å—ã€‚ä½œä¸ºå¥–åŠ±ï¼Œç¯å¡”è¿˜ä¸ºæ‚¨æä¾›äº†ç®€å•ä¼˜åŒ–çš„æç¤ºã€‚

å¦‚æœæ‚¨è·Ÿè¸ªåŸºäºæ•°é‡å’Œä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„ç»©æ•ˆæŒ‡æ ‡çš„ç»„åˆï¼Œæ‚¨å°†è·å¾—æœ€ä½³ç»“æœã€‚åœ¨é¡¹ç›®çš„æ—©æœŸé˜¶æ®µå…³æ³¨èµ„äº§è§„æ¨¡ï¼Œå¹¶å°½å¿«å¼€å§‹è·Ÿè¸ªFCPå’ŒTTIã€‚

## å»ºç«‹åŸºçº¿

The only way to really know what works best for your site is to try itâ€”research and then test your findings. Analyze the competition to see how you stack up. í ½íµµï¸

If you don't have time for that, here are good default numbers to get you started:
çœŸæ­£çŸ¥é“ä»€ä¹ˆæœ€é€‚åˆæ‚¨çš„ç½‘ç«™çš„å”¯ä¸€æ–¹æ³•æ˜¯å°è¯•å®ƒ - ç ”ç©¶ç„¶åæµ‹è¯•æ‚¨çš„å‘ç°ã€‚åˆ†æç«äº‰å¯¹æ‰‹ï¼Œçœ‹çœ‹ä½ çš„å®åŠ›å¦‚ä½•ã€‚í ½íµµï¸

å¦‚æœæ‚¨æ²¡æœ‰æ—¶é—´ï¼Œè¿™é‡Œæœ‰ä¸€äº›å¾ˆå¥½çš„é»˜è®¤æ•°å­—å¯ä»¥å¸®åŠ©æ‚¨å…¥é—¨ï¼š

Under 5 s Time to Interactive
Under 170 KB of critical-path resources (compressed/minified)
- 5 ç§’ä»¥ä¸‹çš„äº’åŠ¨æ—¶é—´
- å…³é”®è·¯å¾„èµ„æºå°äº 170 KBï¼ˆå‹ç¼©/ç¼©å°ï¼‰

These numbers are calculated based on real-world baseline devices and 3G network speed. Over half of the internet traffic today happens on mobile networks, so you should use 3G network speed as a starting point.
è¿™äº›æ•°å­—æ˜¯æ ¹æ®å®é™…åŸºå‡†è®¾å¤‡å’Œ3Gç½‘ç»œé€Ÿåº¦è®¡ç®—å¾—å‡ºçš„ã€‚å¦‚ä»Šï¼Œè¶…è¿‡ä¸€åŠçš„äº’è”ç½‘æµé‡å‘ç”Ÿåœ¨ç§»åŠ¨ç½‘ç»œä¸Šï¼Œå› æ­¤æ‚¨åº”è¯¥ä½¿ç”¨3Gç½‘ç»œé€Ÿåº¦ä½œä¸ºèµ·ç‚¹ã€‚

## Examples of budgetsé¢„ç®—ç¤ºä¾‹

You should have a budget in place for different types of pages on your site since the content will vary. For example:
æ‚¨åº”è¯¥ä¸ºç½‘ç«™ä¸Šä¸åŒç±»å‹çš„ç½‘é¡µåˆ¶å®šé¢„ç®—ï¼Œå› ä¸ºå†…å®¹ä¼šæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ï¼š

Our product page must ship less than 170 KB of JavaScript on mobile
Our search page must include less than 2 MB of images on desktop
Our home page must load and get interactive in < 5 s on slow 3G on a Moto G4 phone
Our blog must score > 80 on Lighthouse performance audits
æˆ‘ä»¬çš„äº§å“é¡µé¢å¿…é¡»åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå‘å¸ƒå°‘äº 170 KB çš„ JavaScript
æˆ‘ä»¬çš„æœç´¢é¡µé¢åœ¨æ¡Œé¢è®¾å¤‡ä¸ŠåŒ…å«çš„å›¾ç‰‡å¿…é¡»å°‘äº 2 MB
æˆ‘ä»¬çš„ä¸»é¡µå¿…é¡»åœ¨Moto G4æ‰‹æœºä¸Šçš„æ…¢é€Ÿ3Gä¸ŠåŠ è½½å¹¶åœ¨5ç§’å†…<è¿›è¡Œäº¤äº’
æˆ‘ä»¬çš„åšå®¢å¿…é¡»åœ¨ç¯å¡”æ€§èƒ½å®¡è®¡æ–¹é¢è·å¾—>80åˆ†

## Add performance budgets to your build process
å‘ç”Ÿæˆè¿‡ç¨‹æ·»åŠ æ€§èƒ½é¢„ç®—

![performance-budgets-101-2](./img/performance-budgets-101-2.png)

Webpack, bundlesize and Lighthouse logos
Choosing a tool for this will depend a lot on the scale of your project and resources that you can dedicate to the task. There are a few open-source tools that can help you add budgeting to your build process:
ä¸ºæ­¤é€‰æ‹©ä¸€ä¸ªå·¥å…·å°†åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºé¡¹ç›®çš„è§„æ¨¡å’Œæ‚¨å¯ä»¥ç”¨äºä»»åŠ¡çš„èµ„æºã€‚æœ‰ä¸€äº›å¼€æºå·¥å…·å¯ä»¥å¸®åŠ©æ‚¨å°†é¢„ç®—æ·»åŠ åˆ°æ„å»ºè¿‡ç¨‹ä¸­ï¼š

- Webpack æ€§èƒ½ç‰¹æ€§
- bundle å¤§å°
- Lighthouse CI

If something goes over a defined threshold, you can either:
å¦‚æœæŸäº›å†…å®¹è¶…è¿‡å®šä¹‰çš„é˜ˆå€¼ï¼Œæ‚¨å¯ä»¥ï¼š

Optimize an existing feature or asset í ½í» ï¸
Remove an existing feature or asset í ½í·‘ï¸
Not add the new feature or asset âœ‹â›”
- ä¼˜åŒ–ç°æœ‰è¦ç´ æˆ–èµ„äº§
- ç§»é™¤ç°æœ‰è¦ç´ æˆ–èµ„äº§
- ä¸æ·»åŠ æ–°åŠŸèƒ½æˆ–èµ„äº§ âœ‹â›”

## è·Ÿè¸ªæ€§èƒ½

Making sure your site is fast enough means you have to keep measuring after the initial launch. Monitoring these metrics over time and getting data from real users will show you how changes in performance impact key business metrics.
ç¡®ä¿æ‚¨çš„ç½‘ç«™è¶³å¤Ÿå¿«æ„å‘³ç€æ‚¨å¿…é¡»åœ¨é¦–æ¬¡å‘å¸ƒåç»§ç»­è¿›è¡Œæµ‹é‡ã€‚éšç€æ—¶é—´çš„æ¨ç§»ç›‘æ§è¿™äº›æŒ‡æ ‡å¹¶ä»çœŸå®ç”¨æˆ·é‚£é‡Œè·å–æ•°æ®ï¼Œå°†å‘æ‚¨å±•ç¤ºæ€§èƒ½çš„å˜åŒ–å¦‚ä½•å½±å“å…³é”®ä¸šåŠ¡æŒ‡æ ‡ã€‚

## æ€»ç»“

The purpose of a performance budget is to make sure you focus on performance throughout a project and setting it early will help prevent backtracking later. It should be the point of reference for helping you figure out what to include on your website. The main idea is to set goals so that you can better balance performance without harming functionality or user experience.

The next guide will walk you through defining your first performance budget in a few simple steps.
æ€§èƒ½é¢„ç®—çš„ç›®çš„æ˜¯ç¡®ä¿æ‚¨ä¸“æ³¨äºæ•´ä¸ªé¡¹ç›®çš„æ€§èƒ½ï¼Œå°½æ—©è®¾ç½®å®ƒå°†æœ‰åŠ©äºé˜²æ­¢ä»¥åå›æº¯ã€‚å®ƒåº”è¯¥æ˜¯å¸®åŠ©æ‚¨å¼„æ¸…æ¥šè¦åœ¨ç½‘ç«™ä¸ŠåŒ…å«çš„å†…å®¹çš„å‚è€ƒç‚¹ã€‚ä¸»è¦æ€æƒ³æ˜¯è®¾å®šç›®æ ‡ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥æ›´å¥½åœ°å¹³è¡¡æ€§èƒ½ï¼Œè€Œä¸ä¼šæŸå®³åŠŸèƒ½æˆ–ç”¨æˆ·ä½“éªŒã€‚

ä¸‹ä¸€ä¸ªæŒ‡å—å°†é€šè¿‡å‡ ä¸ªç®€å•çš„æ­¥éª¤å¼•å¯¼æ‚¨å®šä¹‰ç¬¬ä¸€ä¸ªæ•ˆæœé¢„ç®—ã€‚
